{"version":3,"file":"src_app_login_login_module_ts.js","mappings":"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","sources":["./src/app/login/login-routing.module.ts","./src/app/login/login.module.ts","./src/app/login/login.page.ts","./node_modules/@codetrix-studio/capacitor-google-auth/dist/esm/definitions.js","./node_modules/@codetrix-studio/capacitor-google-auth/dist/esm/index.js"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPageRoutingModule } from './login-routing.module';\n\nimport { LoginPage } from './login.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LoginPageRoutingModule,\n    ReactiveFormsModule,\n  ],\n  declarations: [LoginPage],\n})\nexport class LoginPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { isPlatform, ModalController, ModalOptions, NavController } from '@ionic/angular';\nimport { OtpComponent } from '../otp/otp.component';\nimport { AuthService } from '../services/auth.service';\nimport { environment } from '../../environments/environment';\nimport { OverlayService } from '../services/overlay.service';\nimport { GoogleAuth } from '@codetrix-studio/capacitor-google-auth';\nimport { Auth } from '@angular/fire/auth/';\nimport { StatusBar } from '@capacitor/status-bar';\nimport { AvatarService } from '../services/avatar.service';\nimport { SplashScreen } from '@capacitor/splash-screen';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n  form: FormGroup;\n  CountryCode: any;\n  CountryJson = environment.CountryJson;\n  flag: any = \"https://cdn.kcak11.com/CountryFlags/countries/ng.svg\";\n  \n  user: any;\n  approve: boolean;\n  approve2: boolean;\n  \n\n  slideOpts = {\n    initialSlide: 0,\n    speed: 300,\n    autoplay:true\n  };\n  numberT: string;\n  constructor(\n    private modalCtrl: ModalController,\n    private auth: AuthService,\n    private router: Router,\n    private nav: NavController,\n    private authY: Auth,\n    private avatar: AvatarService,\n    private overlay: OverlayService,\n  ) \n  { \n    if (!isPlatform('capacitor')){\n      GoogleAuth.initialize();\n     }\n    let country = 'Nigeria'\n     this.CountryCode = '+234'\n     this.numberT = '+234'\n  }\n\n  async HideSplash()\n  {\n    await SplashScreen.hide();\n  }\n\n  \n\n  async ngOnInit() {\n    \n   \n   \n    this.form = new FormGroup({\n      phone: new FormControl(null, {\n        validators: [Validators.required, Validators.minLength(10), Validators.maxLength(10)]\n      }),\n    });\n\n    // this.router.navigateByUrl('details');\n   // this.show();\n  }\n\n  countryCodeChange($event) {\n    console.log($event.detail.value.toString());\n    this.CountryCode = '';\n    this.numberT = $event.detail.value.toString();\n  }\n\n  async Show(){\n    await StatusBar.setOverlaysWebView({ overlay: false });\n    // StatusBar.setStyle({ style: Style.Light });\n  }\n\n  async Hide(){\n    await StatusBar.setOverlaysWebView({ overlay: true });\n    // StatusBar.setStyle({ style: Style.Light });\n  }\n\n\n\n  async signIn() {\n    try {\n      if (!this.form.valid) {\n        this.form.markAllAsTouched();\n        return;\n      }\n      console.log(this.form.value);\n      this.approve2 = true;\n      const response = await this.auth.signInWithPhoneNumber(this.numberT + this.form.value.phone);\n      this.approve2 = false;\n      const options: ModalOptions = {\n        component: OtpComponent,\n        componentProps: {\n          phone: this.form.value.phone,\n          countryCode: this.numberT,\n        },\n        swipeToClose: true\n      };\n      const modal = this.modalCtrl.create(options);\n      (await modal).present();\n      const data: any = (await modal).onWillDismiss();\n      this.authY.onAuthStateChanged(async (user)=>{\n        this.avatar.getUserProfile(user).subscribe(async (data) => {\n        if (!data){\n       this.router.navigateByUrl('details');   \n       this.overlay.hideLoader();\n        }else{\n          this.router.navigateByUrl('tabs');   \n       this.overlay.hideLoader();\n        }\n        })\n      })\n       console.log(data);\n    } catch(e) {\n      console.log(e);\n      this.overlay.showAlert('Error', JSON.stringify(e));\n      this.approve2 = false;\n    }\n  }\n\n \n\n}\n","/// <reference types=\"@capacitor/cli\" />\nexport {};\n","import { registerPlugin } from '@capacitor/core';\nconst GoogleAuth = registerPlugin('GoogleAuth', {\n    web: () => import('./web').then((m) => new m.GoogleAuthWeb()),\n});\nexport * from './definitions';\nexport { GoogleAuth };\n"],"names":["Component","FormControl","FormGroup","Validators","Router","isPlatform","ModalController","NavController","OtpComponent","AuthService","environment","OverlayService","GoogleAuth","Auth","StatusBar","AvatarService","SplashScreen","LoginPage","constructor","modalCtrl","auth","router","nav","authY","avatar","overlay","CountryJson","initialSlide","speed","autoplay","initialize","country","CountryCode","numberT","HideSplash","hide","ngOnInit","form","phone","validators","required","minLength","maxLength","countryCodeChange","$event","console","log","detail","value","toString","Show","setOverlaysWebView","Hide","signIn","valid","markAllAsTouched","approve2","response","signInWithPhoneNumber","options","component","componentProps","countryCode","swipeToClose","modal","create","present","data","onWillDismiss","onAuthStateChanged","user","getUserProfile","subscribe","navigateByUrl","hideLoader","e","showAlert","JSON","stringify","selector","template","registerPlugin","web","then","m","GoogleAuthWeb"],"sourceRoot":"webpack:///","x_google_ignoreList":[3,4]}