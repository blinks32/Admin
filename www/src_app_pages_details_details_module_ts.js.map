{"version":3,"file":"src_app_pages_details_details_module_ts.js","mappings":"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","sources":["./src/app/pages/details/details-routing.module.ts","./src/app/pages/details/details.module.ts","./src/app/pages/details/details.page.ts","./node_modules/@capacitor/geolocation/dist/esm/definitions.js","./node_modules/@capacitor/geolocation/dist/esm/index.js"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DetailsPage } from './details.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DetailsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DetailsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DetailsPageRoutingModule } from './details-routing.module';\n\nimport { DetailsPage } from './details.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule,\n    DetailsPageRoutingModule\n  ],\n  declarations: [DetailsPage]\n})\nexport class DetailsPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Auth } from '@angular/fire/auth';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { AvatarService } from 'src/app/services/avatar.service';\nimport { OverlayService } from 'src/app/services/overlay.service';\nimport { Geolocation } from '@capacitor/geolocation';\nimport { Camera, CameraResultType, CameraSource } from '@capacitor/camera';\n\n\n@Component({\n  selector: 'app-details',\n  templateUrl: './details.page.html',\n  styleUrls: ['./details.page.scss'],\n})\nexport class DetailsPage implements OnInit {\n\n  form: FormGroup;\n  coordinates: any;\n  approve2: boolean;\n  selected: any = 'Select Role';\n  cartypes: import(\"@angular/fire/firestore\").DocumentData[];\n  currentcar: any;\n  imageURl: any;\n  licenseURl: any;\n  licenseImage: any;\n  profileImage: any;\n  constructor(\n    private overlay: OverlayService, private authy: Auth, private auth: AuthService, private avatar: AvatarService, private router: Router\n  ) { }\n\n  ngOnInit() {\n\n     this.avatar.getRoles().subscribe((d)=>{\n      console.log(d);\n      this.cartypes = d\n     })\n\n    this.form = new FormGroup({\n      fullname: new FormControl(null, {\n        validators: [Validators.required, Validators.minLength(1), Validators.maxLength(200)]\n      }),\n      lastname: new FormControl(null, {\n        validators: [Validators.required, Validators.minLength(1), Validators.maxLength(200)]\n      }),\n      email: new FormControl(null, {\n        validators: [Validators.required, Validators.minLength(1), Validators.maxLength(200)]\n      }),\n      car: new FormControl(null, {\n        validators: [Validators.required, Validators.minLength(1), Validators.maxLength(200)]\n      }),\n      plate: new FormControl(null, {\n        validators: [Validators.required, Validators.minLength(1), Validators.maxLength(200)]\n      }),\n    });\n  }\n  \n\n  async chooseCarType(even){\n    console.log(even.detail.value);\n      this.currentcar = even.detail.value.name\n  }\n\n  async changeImage() {\n    try{\n    const image = await Camera.getPhoto({\n      quality: 20,\n      allowEditing: false,\n      resultType: CameraResultType.DataUrl,\n      source: CameraSource.Camera, // Camera, Photos or Prompt!\n    });\n    this.imageURl = image.dataUrl\n    this.profileImage = image.dataUrl\n\n  }catch(e){\n    this.overlay.showAlert('Error', e)\n  }\n  }\n\n  async changeLicense() {\n    try{\n    const image = await Camera.getPhoto({\n      quality: 20,\n      allowEditing: false,\n      resultType: CameraResultType.DataUrl,\n      source: CameraSource.Camera, // Camera, Photos or Prompt!\n    });\n    this.licenseURl = image.dataUrl\n    this.licenseImage = image.dataUrl;\n  }catch(e){\n    this.overlay.showAlert('Error', e)\n  }\n  }\n\n\n\n\n  async signIn() {\n    try {\n      await Geolocation.checkPermissions();\n      const coordinates = await Geolocation.getCurrentPosition();\n        this.approve2 = true\n        if (this.profileImage  && this.currentcar && this.form.value.fullname && this.form.value.lastname && this.form.value.email && this.imageURl){\n        await this.avatar.CreateAdmin(this.form.value.fullname + '' + this.form.value.lastname, this.form.value.email, this.authy.currentUser.phoneNumber, this.currentcar, this.imageURl, true)\n        this.approve2 = false;\n        this.router.navigateByUrl('tabs');\n        }else{\n          this.overlay.showAlert('Incomplete', \"Complete the form\")\n        }\n    } catch(e) {\n      this.overlay.showAlert('Error', e)\n    }\n  }\n\n\n\n\n}\n","export {};\n","import { registerPlugin } from '@capacitor/core';\nconst Geolocation = registerPlugin('Geolocation', {\n    web: () => import('./web').then(m => new m.GeolocationWeb()),\n});\nexport * from './definitions';\nexport { Geolocation };\n"],"names":["Component","Auth","FormControl","FormGroup","Validators","Router","AuthService","AvatarService","OverlayService","Geolocation","Camera","CameraResultType","CameraSource","DetailsPage","constructor","overlay","authy","auth","avatar","router","ngOnInit","getRoles","subscribe","d","console","log","cartypes","form","fullname","validators","required","minLength","maxLength","lastname","email","car","plate","chooseCarType","even","detail","value","currentcar","name","changeImage","image","getPhoto","quality","allowEditing","resultType","DataUrl","source","imageURl","dataUrl","profileImage","e","showAlert","changeLicense","licenseURl","licenseImage","signIn","checkPermissions","coordinates","getCurrentPosition","approve2","CreateAdmin","currentUser","phoneNumber","navigateByUrl","selector","template","registerPlugin","web","then","m","GeolocationWeb"],"sourceRoot":"webpack:///","x_google_ignoreList":[3,4]}